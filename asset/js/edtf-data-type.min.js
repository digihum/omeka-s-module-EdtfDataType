var EdtfDataType;(()=>{var e={654:function(e){var s,t;s=this,t=function(){function e(s,t,o){return this.id=++e.highestId,this.name=s,this.symbols=t,this.postprocess=o,this}function s(e,s,t,o){this.rule=e,this.dot=s,this.reference=t,this.data=[],this.wantedBy=o,this.isComplete=this.dot===e.symbols.length}function t(e,s){this.grammar=e,this.index=s,this.states=[],this.wants={},this.scannable=[],this.completed={}}function o(e,s){this.rules=e,this.start=s||this.rules[0].name;var t=this.byName={};this.rules.forEach((function(e){t.hasOwnProperty(e.name)||(t[e.name]=[]),t[e.name].push(e)}))}function r(){this.reset("")}function n(e,s,n){if(e instanceof o){var a=e;n=s}else a=o.fromCompiled(e,s);for(var i in this.grammar=a,this.options={keepHistory:!1,lexer:a.lexer||new r},n||{})this.options[i]=n[i];this.lexer=this.options.lexer,this.lexerState=void 0;var l=new t(a,0);this.table=[l],l.wants[a.start]=[],l.predict(a.start),l.process(),this.current=0}function a(e){var s=typeof e;if("string"===s)return e;if("object"===s){if(e.literal)return JSON.stringify(e.literal);if(e instanceof RegExp)return e.toString();if(e.type)return"%"+e.type;if(e.test)return"<"+String(e.test)+">";throw new Error("Unknown symbol type: "+e)}}return e.highestId=0,e.prototype.toString=function(e){var s=void 0===e?this.symbols.map(a).join(" "):this.symbols.slice(0,e).map(a).join(" ")+" ● "+this.symbols.slice(e).map(a).join(" ");return this.name+" → "+s},s.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},s.prototype.nextState=function(e){var t=new s(this.rule,this.dot+1,this.reference,this.wantedBy);return t.left=this,t.right=e,t.isComplete&&(t.data=t.build(),t.right=void 0),t},s.prototype.build=function(){var e=[],s=this;do{e.push(s.right.data),s=s.left}while(s.left);return e.reverse(),e},s.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,n.fail))},t.prototype.process=function(e){for(var s=this.states,t=this.wants,o=this.completed,r=0;r<s.length;r++){var a=s[r];if(a.isComplete){if(a.finish(),a.data!==n.fail){for(var i=a.wantedBy,l=i.length;l--;){var m=i[l];this.complete(m,a)}if(a.reference===this.index){var p=a.rule.name;(this.completed[p]=this.completed[p]||[]).push(a)}}}else{if("string"!=typeof(p=a.rule.symbols[a.dot])){this.scannable.push(a);continue}if(t[p]){if(t[p].push(a),o.hasOwnProperty(p)){var c=o[p];for(l=0;l<c.length;l++){var u=c[l];this.complete(a,u)}}}else t[p]=[a],this.predict(p)}}},t.prototype.predict=function(e){for(var t=this.grammar.byName[e]||[],o=0;o<t.length;o++){var r=t[o],n=this.wants[e],a=new s(r,0,this.index,n);this.states.push(a)}},t.prototype.complete=function(e,s){var t=e.nextState(s);this.states.push(t)},o.fromCompiled=function(s,t){var r=s.Lexer;s.ParserStart&&(t=s.ParserStart,s=s.ParserRules);var n=new o(s=s.map((function(s){return new e(s.name,s.symbols,s.postprocess)})),t);return n.lexer=r,n},r.prototype.reset=function(e,s){this.buffer=e,this.index=0,this.line=s?s.line:1,this.lastLineBreak=s?-s.col:0},r.prototype.next=function(){if(this.index<this.buffer.length){var e=this.buffer[this.index++];return"\n"===e&&(this.line+=1,this.lastLineBreak=this.index),{value:e}}},r.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},r.prototype.formatError=function(e,s){var t=this.buffer;if("string"==typeof t){var o=t.split("\n").slice(Math.max(0,this.line-5),this.line),r=t.indexOf("\n",this.index);-1===r&&(r=t.length);var n=this.index-this.lastLineBreak,a=String(this.line).length;return s+=" at line "+this.line+" col "+n+":\n\n",s+=o.map((function(e,s){return i(this.line-o.length+s+1,a)+" "+e}),this).join("\n"),s+="\n"+i("",a+n)+"^\n"}return s+" at index "+(this.index-1);function i(e,s){var t=String(e);return Array(s-t.length+1).join(" ")+t}},n.fail={},n.prototype.feed=function(e){var s,o=this.lexer;for(o.reset(e,this.lexerState);;){try{if(!(s=o.next()))break}catch(e){var n=new t(this.grammar,this.current+1);throw this.table.push(n),(l=new Error(this.reportLexerError(e))).offset=this.current,l.token=e.token,l}var a=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var i=this.current+1;n=new t(this.grammar,i),this.table.push(n);for(var l,m=void 0!==s.text?s.text:s.value,p=o.constructor===r?s.value:s,c=a.scannable,u=c.length;u--;){var y=c[u],$=y.rule.symbols[y.dot];if($.test?$.test(p):$.type?$.type===s.type:$.literal===m){var b=y.nextState({data:p,token:s,isToken:!0,reference:i-1});n.states.push(b)}}if(n.process(),0===n.states.length)throw(l=new Error(this.reportError(s))).offset=this.current,l.token=s,l;this.options.keepHistory&&(a.lexerState=o.save()),this.current++}return a&&(this.lexerState=o.save()),this.results=this.finish(),this},n.prototype.reportLexerError=function(e){var s,t,o=e.token;return o?(s="input "+JSON.stringify(o.text[0])+" (lexer error)",t=this.lexer.formatError(o,"Syntax error")):(s="input (lexer error)",t=e.message),this.reportErrorCommon(t,s)},n.prototype.reportError=function(e){var s=(e.type?e.type+" token: ":"")+JSON.stringify(void 0!==e.value?e.value:e),t=this.lexer.formatError(e,"Syntax error");return this.reportErrorCommon(t,s)},n.prototype.reportErrorCommon=function(e,s){var t=[];t.push(e);var o=this.table.length-2,r=this.table[o],n=r.states.filter((function(e){var s=e.rule.symbols[e.dot];return s&&"string"!=typeof s}));return 0===n.length?(t.push("Unexpected "+s+". I did not expect any more input. Here is the state of my parse table:\n"),this.displayStateStack(r.states,t)):(t.push("Unexpected "+s+". Instead, I was expecting to see one of the following:\n"),n.map((function(e){return this.buildFirstStateStack(e,[])||[e]}),this).forEach((function(e){var s=e[0],o=s.rule.symbols[s.dot],r=this.getSymbolDisplay(o);t.push("A "+r+" based on:"),this.displayStateStack(e,t)}),this)),t.push(""),t.join("\n")},n.prototype.displayStateStack=function(e,s){for(var t,o=0,r=0;r<e.length;r++){var n=e[r],a=n.rule.toString(n.dot);a===t?o++:(o>0&&s.push("    ^ "+o+" more lines identical to this"),o=0,s.push("    "+a)),t=a}},n.prototype.getSymbolDisplay=function(e){return function(e){var s=typeof e;if("string"===s)return e;if("object"===s){if(e.literal)return JSON.stringify(e.literal);if(e instanceof RegExp)return"character matching "+e;if(e.type)return e.type+" token";if(e.test)return"token matching "+String(e.test);throw new Error("Unknown symbol type: "+e)}}(e)},n.prototype.buildFirstStateStack=function(e,s){if(-1!==s.indexOf(e))return null;if(0===e.wantedBy.length)return[e];var t=e.wantedBy[0],o=[e].concat(s),r=this.buildFirstStateStack(t,o);return null===r?null:[e].concat(r)},n.prototype.save=function(){var e=this.table[this.current];return e.lexerState=this.lexerState,e},n.prototype.restore=function(e){var s=e.index;this.current=s,this.table[s]=e,this.table.splice(s+1),this.lexerState=e.lexerState,this.results=this.finish()},n.prototype.rewind=function(e){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[e])},n.prototype.finish=function(){var e=[],s=this.grammar.start;return this.table[this.table.length-1].states.forEach((function(t){t.rule.name===s&&t.dot===t.rule.symbols.length&&0===t.reference&&t.data!==n.fail&&e.push(t)})),e.map((function(e){return e.data}))},{Parser:n,Grammar:o,Rule:e}},e.exports?e.exports=t():s.nearley=t()},90:(e,s,t)=>{const o=(e,...s)=>{for(let t of s)r[`${e}-${t}`]=r[e]},r={en:t(861),es:t(728),de:t(414),fr:t(855),it:t(854),ja:t(54)};o("en","AU","CA","GB","NZ","SA","US"),o("de","AT","CH","DE"),o("fr","CH","FR"),e.exports=r},414:e=>{"use strict";e.exports=JSON.parse('{"locale":"de-DE","date":{"approximate":{"long":"circa %D","medium":"ca. %D","short":"ca. %D"},"uncertain":{"long":"%D (?)","medium":"%D (?)","short":"%D (?)"}}}')},861:e=>{"use strict";e.exports=JSON.parse('{"locale":"en-US","date":{"approximate":{"long":"circa %D","medium":"ca. %D","short":"c. %D"},"uncertain":{"long":"%D (unspecified)","medium":"%D (?)","short":"%D (?)"}}}')},728:e=>{"use strict";e.exports=JSON.parse('{"locale":"es-ES","date":{"approximate":{"long":"circa %D","medium":"ca. %D","short":"c. %D"},"uncertain":{"long":"%D (?)","medium":"%D (?)","short":"%D (?)"}}}')},855:e=>{"use strict";e.exports=JSON.parse('{"locale":"fr-FR","date":{"approximate":{"long":"circa %D","medium":"ca. %D","short":"c. %D"},"uncertain":{"long":"%D (?)","medium":"%D (?)","short":"%D (?)"}}}')},854:e=>{"use strict";e.exports=JSON.parse('{"locale":"it-IT","date":{"approximate":{"long":"circa %D","medium":"ca. %D","short":"c. %D"},"uncertain":{"long":"%D (?)","medium":"%D (?)","short":"%D (?)"}}}')},54:e=>{"use strict";e.exports=JSON.parse('{"locale":"ja-JA","date":{"approximate":{"long":"%D頃","medium":"%D頃","short":"%D頃"},"uncertain":{"long":"%D頃","medium":"%D頃","short":"%D頃"}}}')}},s={};function t(o){var r=s[o];if(void 0!==r)return r.exports;var n=s[o]={exports:{}};return e[o].call(n.exports,n,n.exports,t),n.exports}t.n=e=>{var s=e&&e.__esModule?()=>e.default:()=>e;return t.d(s,{a:s}),s},t.d=(e,s)=>{for(var o in s)t.o(s,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:s[o]})},t.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};(()=>{"use strict";function e(e,t){return s(!!e,!0,t||`expected "${e}" to be ok`)}function s(e,s,t){if(e==s)return!0;if(Number.isNaN(e)&&Number.isNaN(s))return!0;throw new Error(t||`expected "${e}" to equal "${s}"`)}t.r(o),t.d(o,{listen:()=>ke}),e.equal=s;const r=e,n=/^days?$/i,a=/^months?$/i,i=/^years?$/i,l=/^[xX]$/,m=/[xX]/g,p=/^[0-9xXdDmMyY]{8}$/,c="YYYYMMDD".split(""),u=[31,29,31,30,31,30,31,31,30,31,30,31],{floor:y,pow:$,max:b,min:d}=Math;class f{static test(e,s){return this.convert(e)&this.convert(s)}static convert(e=0){if((e=e||0)instanceof f)return e.value;switch(typeof e){case"number":return e;case"boolean":return e?f.YMD:0;case"string":if(n.test(e))return f.DAY;if(a.test(e))return f.MONTH;if(i.test(e))return f.YEAR;if(p.test(e))return f.compute(e);default:throw new Error(`invalid value: ${e}`)}}static compute(e){return e.split("").reduce(((e,s,t)=>e|(l.test(s)?$(2,t):0)),0)}static values(e,s=0){let t=f.numbers(e,s).split(""),o=[Number(t.slice(0,4).join(""))];return t.length>4&&o.push(Number(t.slice(4,6).join(""))),t.length>6&&o.push(Number(t.slice(6,8).join(""))),f.normalize(o)}static numbers(e,s=0){return e.replace(m,s)}static normalize(e){return e.length>1&&(e[1]=d(11,b(0,e[1]-1))),e.length>2&&(e[2]=d(u[e[1]]||NaN,b(1,e[2]))),e}constructor(e=0){this.value=f.convert(e)}test(e=0){return this.value&f.convert(e)}bit(e){return this.value&$(2,e)}get day(){return this.test(f.DAY)}get month(){return this.test(f.MONTH)}get year(){return this.test(f.YEAR)}add(e){return this.value=this.value|f.convert(e),this}set(e=0){return this.value=f.convert(e),this}mask(e=c,s=0,t="X"){return e.map(((e,o)=>this.bit(s+o)?t:e))}masks(e,s="X"){let t=0;return e.map((e=>{let o=this.mask(e.split(""),t,s);return t+=o.length,o.join("")}))}max([e,s,t]){if(!e)return[];if(e=Number(this.test(f.YEAR)?this.masks([e],"9")[0]:e),!s)return[e];switch(s=Number(s)-1,this.test(f.MONTH)){case f.MONTH:s=11;break;case f.MX:s=s<9?8:11;break;case f.XM:s=(s=(s+1)%10)<3?s+9:s-1}if(!t)return[e,s];switch(t=Number(t),this.test(f.DAY)){case f.DAY:t=u[s];break;case f.DX:t=d(u[s],t+(9-t%10));break;case f.XD:t%=10,1===s?t=9!==t||h(e)?t+20:t+10:(t=t<2?t+30:t+20)>u[s]&&(t-=10)}return 1===s&&t>28&&!h(e)&&(t=28),[e,s,t]}min([e,s,t]){if(!e)return[];if(e=Number(this.test(f.YEAR)?this.masks([e],"0")[0]:e),null==s)return[e];switch(s=Number(s)-1,this.test(f.MONTH)){case f.MONTH:case f.XM:s=0;break;case f.MX:s=s<9?0:9}if(!t)return[e,s];switch(t=Number(t),this.test(f.DAY)){case f.DAY:t=1;break;case f.DX:t=b(1,10*y(t/10));break;case f.XD:t=b(1,t%10)}return[e,s,t]}marks(e,s="?"){return e.map(((e,t)=>[this.qualified(2*t)?s:"",e,this.qualified(2*t+1)?s:""].join("")))}qualified(e){switch(e){case 1:return this.value===f.YEAR||this.value&f.YEAR&&!(this.value&f.MONTH);case 2:return this.value===f.MONTH||this.value&f.MONTH&&!(this.value&f.YEAR);case 3:return this.value===f.YM;case 4:return this.value===f.DAY||this.value&f.DAY&&this.value!==f.YMD;case 5:return this.value===f.YMD;default:return!1}}qualify(e){return this.value=this.value|f.UA[e],this}toJSON(){return this.value}toString(e="X"){return this.masks(["YYYY","MM","DD"],e).join("-")}}function h(e){return!(e%4>0)&&(e%100>0||!(e%400>0))}f.prototype.is=f.prototype.test,f.DAY=f.D=f.compute("yyyymmxx"),f.MONTH=f.M=f.compute("yyyyxxdd"),f.YEAR=f.Y=f.compute("xxxxmmdd"),f.MD=f.M|f.D,f.YMD=f.Y|f.MD,f.YM=f.Y|f.M,f.YYXX=f.compute("yyxxmmdd"),f.YYYX=f.compute("yyyxmmdd"),f.XXXX=f.compute("xxxxmmdd"),f.DX=f.compute("yyyymmdx"),f.XD=f.compute("yyyymmxd"),f.MX=f.compute("yyyymxdd"),f.XM=f.compute("yyyyxmdd"),f.UA=[f.YEAR,f.YEAR,f.MONTH,f.YM,f.DAY,f.YMD];var _=t(654);const{assign:g}=Object;function v(e){return Number(Array.isArray(e)?e.join(""):e)}function x(e){return e.join("")}function L(){return 0}function D(){return null}function S(...e){return 1===e.length?s=>s[e[0]]:s=>function(e,s=e.keys()){return Array.from(s).reduce(((s,t)=>null!==e[t]?s.concat(e[t]):s),[])}(s,e)}function X(...e){return s=>e.map((e=>s[e]))}function j(...e){if("object"==typeof e[e.length-1])var s=e.pop();return t=>g(e.reduce(((e,s)=>g(e,t[s])),{}),s)}function w(e){return s=>({values:[s[0],s[2]],type:"Interval",level:e})}function Y(e="unspecified",s="X"){return(t,o,r)=>{let n=(t=t.join("")).startsWith("-"),a=t.replace(/-/g,"");if(-1===a.indexOf(s))return r;let i=f.values(a,0);return n&&(i[0]=-i[0]),{values:i,[e]:f.compute(a)}}}function k(e,s=0,t=null){return g({type:"Date",level:s,values:f.normalize(e.map(Number))},t)}function M(e,s=1,t=null){return g({type:"Year",level:s,values:e.map(Number)},t)}function N(e,s=0){return{type:"Century",level:s,values:[e]}}function A(e,s=2){return{type:"Decade",level:s,values:[e]}}function O(e,s=1){return{type:"Season",level:s,values:[Number(e[0]),Number(e[2])]}}function T(e){return g({values:e[1],level:2},e[0],e[2])}function E([e],s,t){let o={uncertain:new f,approximate:new f},r=e.map((([e,s,t],r)=>{for(let s in e)o[s].qualify(2*r);for(let e in t)o[e].qualify(1+2*r);return s}));return o.uncertain.value||o.approximate.value?{...k(r,2),uncertain:o.uncertain.value,approximate:o.approximate.value}:t}function U(e){return e[0]}const{DAY:I,MONTH:R,YEAR:B,YMD:C,YM:F,MD:P,YYXX:H,YYYX:J,XXXX:z}=f;let W;const q={Lexer:W,ParserRules:[{name:"edtf",symbols:["L0"],postprocess:U},{name:"edtf",symbols:["L1"],postprocess:U},{name:"edtf",symbols:["L2"],postprocess:U},{name:"edtf",symbols:["L3"],postprocess:U},{name:"L0",symbols:["date_time"],postprocess:U},{name:"L0",symbols:["century"],postprocess:U},{name:"L0",symbols:["L0i"],postprocess:U},{name:"L0i",symbols:["date_time",{literal:"/"},"date_time"],postprocess:w(0)},{name:"century",symbols:["positive_century"],postprocess:e=>N(e[0])},{name:"century$string$1",symbols:[{literal:"0"},{literal:"0"}],postprocess:function(e){return e.join("")}},{name:"century",symbols:["century$string$1"],postprocess:e=>N(0)},{name:"century",symbols:[{literal:"-"},"positive_century"],postprocess:e=>N(-e[1])},{name:"positive_century",symbols:["positive_digit","digit"],postprocess:v},{name:"positive_century",symbols:[{literal:"0"},"positive_digit"],postprocess:v},{name:"date_time",symbols:["date"],postprocess:U},{name:"date_time",symbols:["datetime"],postprocess:U},{name:"date",symbols:["year"],postprocess:e=>k(e)},{name:"date",symbols:["year_month"],postprocess:e=>k(e[0])},{name:"date",symbols:["year_month_day"],postprocess:e=>k(e[0])},{name:"year",symbols:["positive_year"],postprocess:U},{name:"year",symbols:["negative_year"],postprocess:U},{name:"year$string$1",symbols:[{literal:"0"},{literal:"0"},{literal:"0"},{literal:"0"}],postprocess:function(e){return e.join("")}},{name:"year",symbols:["year$string$1"],postprocess:x},{name:"positive_year",symbols:["positive_digit","digit","digit","digit"],postprocess:x},{name:"positive_year",symbols:[{literal:"0"},"positive_digit","digit","digit"],postprocess:x},{name:"positive_year$string$1",symbols:[{literal:"0"},{literal:"0"}],postprocess:function(e){return e.join("")}},{name:"positive_year",symbols:["positive_year$string$1","positive_digit","digit"],postprocess:x},{name:"positive_year$string$2",symbols:[{literal:"0"},{literal:"0"},{literal:"0"}],postprocess:function(e){return e.join("")}},{name:"positive_year",symbols:["positive_year$string$2","positive_digit"],postprocess:x},{name:"negative_year",symbols:[{literal:"-"},"positive_year"],postprocess:x},{name:"year_month",symbols:["year",{literal:"-"},"month"],postprocess:S(0,2)},{name:"year_month_day",symbols:["year",{literal:"-"},"month_day"],postprocess:S(0,2)},{name:"month",symbols:["d01_12"],postprocess:U},{name:"month_day",symbols:["m31",{literal:"-"},"day"],postprocess:S(0,2)},{name:"month_day",symbols:["m30",{literal:"-"},"d01_30"],postprocess:S(0,2)},{name:"month_day$string$1",symbols:[{literal:"0"},{literal:"2"}],postprocess:function(e){return e.join("")}},{name:"month_day",symbols:["month_day$string$1",{literal:"-"},"d01_29"],postprocess:S(0,2)},{name:"day",symbols:["d01_31"],postprocess:U},{name:"datetime$ebnf$1$subexpression$1",symbols:["timezone"],postprocess:U},{name:"datetime$ebnf$1",symbols:["datetime$ebnf$1$subexpression$1"],postprocess:U},{name:"datetime$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"datetime",symbols:["year_month_day",{literal:"T"},"time","datetime$ebnf$1"],postprocess:function(e){let s=e[3];return null==s&&(s=(new Date).getTimezoneOffset()),{values:f.normalize(e[0].map(Number)).concat(e[2]),offset:s,type:"Date",level:0}}},{name:"time",symbols:["hours",{literal:":"},"minutes",{literal:":"},"seconds","milliseconds"],postprocess:S(0,2,4,5)},{name:"time",symbols:["hours",{literal:":"},"minutes"],postprocess:S(0,2)},{name:"time$string$1",symbols:[{literal:"2"},{literal:"4"},{literal:":"},{literal:"0"},{literal:"0"}],postprocess:function(e){return e.join("")}},{name:"time$ebnf$1$string$1",symbols:[{literal:":"},{literal:"0"},{literal:"0"}],postprocess:function(e){return e.join("")}},{name:"time$ebnf$1",symbols:["time$ebnf$1$string$1"],postprocess:U},{name:"time$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"time",symbols:["time$string$1","time$ebnf$1"],postprocess:()=>[24,0,0]},{name:"hours",symbols:["d00_23"],postprocess:v},{name:"minutes",symbols:["d00_59"],postprocess:v},{name:"seconds",symbols:["d00_59"],postprocess:v},{name:"milliseconds",symbols:[]},{name:"milliseconds",symbols:[{literal:"."},"d3"],postprocess:e=>v(e.slice(1))},{name:"timezone",symbols:[{literal:"Z"}],postprocess:L},{name:"timezone$subexpression$1",symbols:[{literal:"-"}]},{name:"timezone$subexpression$1",symbols:[{literal:"−"}]},{name:"timezone",symbols:["timezone$subexpression$1","offset"],postprocess:e=>-e[1]},{name:"timezone",symbols:[{literal:"+"},"positive_offset"],postprocess:S(1)},{name:"positive_offset",symbols:["offset"],postprocess:U},{name:"positive_offset$string$1",symbols:[{literal:"0"},{literal:"0"}],postprocess:function(e){return e.join("")}},{name:"positive_offset$ebnf$1",symbols:[{literal:":"}],postprocess:U},{name:"positive_offset$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"positive_offset$string$2",symbols:[{literal:"0"},{literal:"0"}],postprocess:function(e){return e.join("")}},{name:"positive_offset",symbols:["positive_offset$string$1","positive_offset$ebnf$1","positive_offset$string$2"],postprocess:L},{name:"positive_offset$subexpression$1$string$1",symbols:[{literal:"1"},{literal:"2"}],postprocess:function(e){return e.join("")}},{name:"positive_offset$subexpression$1",symbols:["positive_offset$subexpression$1$string$1"]},{name:"positive_offset$subexpression$1$string$2",symbols:[{literal:"1"},{literal:"3"}],postprocess:function(e){return e.join("")}},{name:"positive_offset$subexpression$1",symbols:["positive_offset$subexpression$1$string$2"]},{name:"positive_offset$ebnf$2",symbols:[{literal:":"}],postprocess:U},{name:"positive_offset$ebnf$2",symbols:[],postprocess:function(e){return null}},{name:"positive_offset",symbols:["positive_offset$subexpression$1","positive_offset$ebnf$2","minutes"],postprocess:e=>60*v(e[0])+e[2]},{name:"positive_offset$string$3",symbols:[{literal:"1"},{literal:"4"}],postprocess:function(e){return e.join("")}},{name:"positive_offset$ebnf$3",symbols:[{literal:":"}],postprocess:U},{name:"positive_offset$ebnf$3",symbols:[],postprocess:function(e){return null}},{name:"positive_offset$string$4",symbols:[{literal:"0"},{literal:"0"}],postprocess:function(e){return e.join("")}},{name:"positive_offset",symbols:["positive_offset$string$3","positive_offset$ebnf$3","positive_offset$string$4"],postprocess:()=>840},{name:"positive_offset",symbols:["d00_14"],postprocess:e=>60*v(e[0])},{name:"offset$ebnf$1",symbols:[{literal:":"}],postprocess:U},{name:"offset$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"offset",symbols:["d01_11","offset$ebnf$1","minutes"],postprocess:e=>60*v(e[0])+e[2]},{name:"offset$string$1",symbols:[{literal:"0"},{literal:"0"}],postprocess:function(e){return e.join("")}},{name:"offset$ebnf$2",symbols:[{literal:":"}],postprocess:U},{name:"offset$ebnf$2",symbols:[],postprocess:function(e){return null}},{name:"offset",symbols:["offset$string$1","offset$ebnf$2","d01_59"],postprocess:e=>v(e[2])},{name:"offset$string$2",symbols:[{literal:"1"},{literal:"2"}],postprocess:function(e){return e.join("")}},{name:"offset$ebnf$3",symbols:[{literal:":"}],postprocess:U},{name:"offset$ebnf$3",symbols:[],postprocess:function(e){return null}},{name:"offset$string$3",symbols:[{literal:"0"},{literal:"0"}],postprocess:function(e){return e.join("")}},{name:"offset",symbols:["offset$string$2","offset$ebnf$3","offset$string$3"],postprocess:()=>720},{name:"offset",symbols:["d01_12"],postprocess:e=>60*v(e[0])},{name:"L1",symbols:["L1d"],postprocess:U},{name:"L1",symbols:["L1Y"],postprocess:U},{name:"L1",symbols:["L1S"],postprocess:U},{name:"L1",symbols:["L1i"],postprocess:U},{name:"L1d",symbols:["date_ua"],postprocess:U},{name:"L1d",symbols:["L1X"],postprocess:j(0,{type:"Date",level:1})},{name:"date_ua",symbols:["date","UA"],postprocess:j(0,1,{level:1})},{name:"L1i",symbols:["L1i_date",{literal:"/"},"L1i_date"],postprocess:w(1)},{name:"L1i",symbols:["date_time",{literal:"/"},"L1i_date"],postprocess:w(1)},{name:"L1i",symbols:["L1i_date",{literal:"/"},"date_time"],postprocess:w(1)},{name:"L1i_date",symbols:[],postprocess:D},{name:"L1i_date",symbols:["date_ua"],postprocess:U},{name:"L1i_date",symbols:["INFINITY"],postprocess:U},{name:"INFINITY$string$1",symbols:[{literal:"."},{literal:"."}],postprocess:function(e){return e.join("")}},{name:"INFINITY",symbols:["INFINITY$string$1"],postprocess:()=>1/0},{name:"L1X$string$1",symbols:[{literal:"-"},{literal:"X"},{literal:"X"}],postprocess:function(e){return e.join("")}},{name:"L1X",symbols:["nd4",{literal:"-"},"md","L1X$string$1"],postprocess:Y()},{name:"L1X$string$2",symbols:[{literal:"-"},{literal:"X"},{literal:"X"},{literal:"-"},{literal:"X"},{literal:"X"}],postprocess:function(e){return e.join("")}},{name:"L1X",symbols:["nd4","L1X$string$2"],postprocess:Y()},{name:"L1X$string$3",symbols:[{literal:"X"},{literal:"X"},{literal:"X"},{literal:"X"},{literal:"-"},{literal:"X"},{literal:"X"},{literal:"-"},{literal:"X"},{literal:"X"}],postprocess:function(e){return e.join("")}},{name:"L1X",symbols:["L1X$string$3"],postprocess:Y()},{name:"L1X$string$4",symbols:[{literal:"-"},{literal:"X"},{literal:"X"}],postprocess:function(e){return e.join("")}},{name:"L1X",symbols:["nd4","L1X$string$4"],postprocess:Y()},{name:"L1X$string$5",symbols:[{literal:"X"},{literal:"X"},{literal:"X"},{literal:"X"},{literal:"-"},{literal:"X"},{literal:"X"}],postprocess:function(e){return e.join("")}},{name:"L1X",symbols:["L1X$string$5"],postprocess:Y()},{name:"L1X$string$6",symbols:[{literal:"X"},{literal:"X"}],postprocess:function(e){return e.join("")}},{name:"L1X",symbols:["nd2","L1X$string$6"],postprocess:Y()},{name:"L1X",symbols:["nd3",{literal:"X"}],postprocess:Y()},{name:"L1X$string$7",symbols:[{literal:"X"},{literal:"X"},{literal:"X"},{literal:"X"}],postprocess:function(e){return e.join("")}},{name:"L1X",symbols:["L1X$string$7"],postprocess:Y()},{name:"L1Y",symbols:[{literal:"Y"},"d5+"],postprocess:e=>M([v(e[1])],1)},{name:"L1Y$string$1",symbols:[{literal:"Y"},{literal:"-"}],postprocess:function(e){return e.join("")}},{name:"L1Y",symbols:["L1Y$string$1","d5+"],postprocess:e=>M([-v(e[1])],1)},{name:"UA",symbols:[{literal:"?"}],postprocess:()=>({uncertain:!0})},{name:"UA",symbols:[{literal:"~"}],postprocess:()=>({approximate:!0})},{name:"UA",symbols:[{literal:"%"}],postprocess:()=>({approximate:!0,uncertain:!0})},{name:"L1S",symbols:["year",{literal:"-"},"d21_24"],postprocess:e=>O(e,1)},{name:"L2",symbols:["L2d"],postprocess:U},{name:"L2",symbols:["L2Y"],postprocess:U},{name:"L2",symbols:["L2S"],postprocess:U},{name:"L2",symbols:["L2D"],postprocess:U},{name:"L2",symbols:["L2C"],postprocess:U},{name:"L2",symbols:["L2i"],postprocess:U},{name:"L2",symbols:["set"],postprocess:U},{name:"L2",symbols:["list"],postprocess:U},{name:"L2d",symbols:["ua_date"],postprocess:U},{name:"L2d",symbols:["L2X"],postprocess:j(0,{type:"Date",level:2})},{name:"L2D",symbols:["decade"],postprocess:U},{name:"L2D",symbols:["decade","UA"],postprocess:j(0,1)},{name:"L2C",symbols:["century"],postprocess:U},{name:"L2C",symbols:["century","UA"],postprocess:j(0,1,{level:2})},{name:"ua_date",symbols:["ua_year"],postprocess:E},{name:"ua_date",symbols:["ua_year_month"],postprocess:E},{name:"ua_date",symbols:["ua_year_month_day"],postprocess:E},{name:"ua_year",symbols:["UA","year"],postprocess:e=>[e]},{name:"ua_year_month$macrocall$2",symbols:["year"]},{name:"ua_year_month$macrocall$1$ebnf$1",symbols:["UA"],postprocess:U},{name:"ua_year_month$macrocall$1$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"ua_year_month$macrocall$1$ebnf$2",symbols:["UA"],postprocess:U},{name:"ua_year_month$macrocall$1$ebnf$2",symbols:[],postprocess:function(e){return null}},{name:"ua_year_month$macrocall$1",symbols:["ua_year_month$macrocall$1$ebnf$1","ua_year_month$macrocall$2","ua_year_month$macrocall$1$ebnf$2"]},{name:"ua_year_month$macrocall$4",symbols:["month"]},{name:"ua_year_month$macrocall$3$ebnf$1",symbols:["UA"],postprocess:U},{name:"ua_year_month$macrocall$3$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"ua_year_month$macrocall$3$ebnf$2",symbols:["UA"],postprocess:U},{name:"ua_year_month$macrocall$3$ebnf$2",symbols:[],postprocess:function(e){return null}},{name:"ua_year_month$macrocall$3",symbols:["ua_year_month$macrocall$3$ebnf$1","ua_year_month$macrocall$4","ua_year_month$macrocall$3$ebnf$2"]},{name:"ua_year_month",symbols:["ua_year_month$macrocall$1",{literal:"-"},"ua_year_month$macrocall$3"],postprocess:X(0,2)},{name:"ua_year_month_day$macrocall$2",symbols:["year"]},{name:"ua_year_month_day$macrocall$1$ebnf$1",symbols:["UA"],postprocess:U},{name:"ua_year_month_day$macrocall$1$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"ua_year_month_day$macrocall$1$ebnf$2",symbols:["UA"],postprocess:U},{name:"ua_year_month_day$macrocall$1$ebnf$2",symbols:[],postprocess:function(e){return null}},{name:"ua_year_month_day$macrocall$1",symbols:["ua_year_month_day$macrocall$1$ebnf$1","ua_year_month_day$macrocall$2","ua_year_month_day$macrocall$1$ebnf$2"]},{name:"ua_year_month_day",symbols:["ua_year_month_day$macrocall$1",{literal:"-"},"ua_month_day"],postprocess:e=>[e[0],...e[2]]},{name:"ua_month_day$macrocall$2",symbols:["m31"]},{name:"ua_month_day$macrocall$1$ebnf$1",symbols:["UA"],postprocess:U},{name:"ua_month_day$macrocall$1$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"ua_month_day$macrocall$1$ebnf$2",symbols:["UA"],postprocess:U},{name:"ua_month_day$macrocall$1$ebnf$2",symbols:[],postprocess:function(e){return null}},{name:"ua_month_day$macrocall$1",symbols:["ua_month_day$macrocall$1$ebnf$1","ua_month_day$macrocall$2","ua_month_day$macrocall$1$ebnf$2"]},{name:"ua_month_day$macrocall$4",symbols:["day"]},{name:"ua_month_day$macrocall$3$ebnf$1",symbols:["UA"],postprocess:U},{name:"ua_month_day$macrocall$3$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"ua_month_day$macrocall$3$ebnf$2",symbols:["UA"],postprocess:U},{name:"ua_month_day$macrocall$3$ebnf$2",symbols:[],postprocess:function(e){return null}},{name:"ua_month_day$macrocall$3",symbols:["ua_month_day$macrocall$3$ebnf$1","ua_month_day$macrocall$4","ua_month_day$macrocall$3$ebnf$2"]},{name:"ua_month_day",symbols:["ua_month_day$macrocall$1",{literal:"-"},"ua_month_day$macrocall$3"],postprocess:X(0,2)},{name:"ua_month_day$macrocall$6",symbols:["m30"]},{name:"ua_month_day$macrocall$5$ebnf$1",symbols:["UA"],postprocess:U},{name:"ua_month_day$macrocall$5$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"ua_month_day$macrocall$5$ebnf$2",symbols:["UA"],postprocess:U},{name:"ua_month_day$macrocall$5$ebnf$2",symbols:[],postprocess:function(e){return null}},{name:"ua_month_day$macrocall$5",symbols:["ua_month_day$macrocall$5$ebnf$1","ua_month_day$macrocall$6","ua_month_day$macrocall$5$ebnf$2"]},{name:"ua_month_day$macrocall$8",symbols:["d01_30"]},{name:"ua_month_day$macrocall$7$ebnf$1",symbols:["UA"],postprocess:U},{name:"ua_month_day$macrocall$7$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"ua_month_day$macrocall$7$ebnf$2",symbols:["UA"],postprocess:U},{name:"ua_month_day$macrocall$7$ebnf$2",symbols:[],postprocess:function(e){return null}},{name:"ua_month_day$macrocall$7",symbols:["ua_month_day$macrocall$7$ebnf$1","ua_month_day$macrocall$8","ua_month_day$macrocall$7$ebnf$2"]},{name:"ua_month_day",symbols:["ua_month_day$macrocall$5",{literal:"-"},"ua_month_day$macrocall$7"],postprocess:X(0,2)},{name:"ua_month_day$macrocall$10$string$1",symbols:[{literal:"0"},{literal:"2"}],postprocess:function(e){return e.join("")}},{name:"ua_month_day$macrocall$10",symbols:["ua_month_day$macrocall$10$string$1"]},{name:"ua_month_day$macrocall$9$ebnf$1",symbols:["UA"],postprocess:U},{name:"ua_month_day$macrocall$9$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"ua_month_day$macrocall$9$ebnf$2",symbols:["UA"],postprocess:U},{name:"ua_month_day$macrocall$9$ebnf$2",symbols:[],postprocess:function(e){return null}},{name:"ua_month_day$macrocall$9",symbols:["ua_month_day$macrocall$9$ebnf$1","ua_month_day$macrocall$10","ua_month_day$macrocall$9$ebnf$2"]},{name:"ua_month_day$macrocall$12",symbols:["d01_29"]},{name:"ua_month_day$macrocall$11$ebnf$1",symbols:["UA"],postprocess:U},{name:"ua_month_day$macrocall$11$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"ua_month_day$macrocall$11$ebnf$2",symbols:["UA"],postprocess:U},{name:"ua_month_day$macrocall$11$ebnf$2",symbols:[],postprocess:function(e){return null}},{name:"ua_month_day$macrocall$11",symbols:["ua_month_day$macrocall$11$ebnf$1","ua_month_day$macrocall$12","ua_month_day$macrocall$11$ebnf$2"]},{name:"ua_month_day",symbols:["ua_month_day$macrocall$9",{literal:"-"},"ua_month_day$macrocall$11"],postprocess:X(0,2)},{name:"L2X",symbols:["dx4"],postprocess:Y()},{name:"L2X",symbols:["dx4",{literal:"-"},"mx"],postprocess:Y()},{name:"L2X",symbols:["dx4",{literal:"-"},"mdx"],postprocess:Y()},{name:"mdx",symbols:["m31x",{literal:"-"},"d31x"],postprocess:x},{name:"mdx",symbols:["m30x",{literal:"-"},"d30x"],postprocess:x},{name:"mdx$string$1",symbols:[{literal:"0"},{literal:"2"},{literal:"-"}],postprocess:function(e){return e.join("")}},{name:"mdx",symbols:["mdx$string$1","d29x"],postprocess:x},{name:"L2i",symbols:["L2i_date",{literal:"/"},"L2i_date"],postprocess:w(2)},{name:"L2i",symbols:["date_time",{literal:"/"},"L2i_date"],postprocess:w(2)},{name:"L2i",symbols:["L2i_date",{literal:"/"},"date_time"],postprocess:w(2)},{name:"L2i_date",symbols:[],postprocess:D},{name:"L2i_date",symbols:["ua_date"],postprocess:U},{name:"L2i_date",symbols:["L2X"],postprocess:U},{name:"L2i_date",symbols:["INFINITY"],postprocess:U},{name:"L2Y",symbols:["exp_year"],postprocess:U},{name:"L2Y",symbols:["exp_year","significant_digits"],postprocess:j(0,1)},{name:"L2Y",symbols:["L1Y","significant_digits"],postprocess:j(0,1,{level:2})},{name:"L2Y",symbols:["year","significant_digits"],postprocess:e=>M([e[0]],2,e[1])},{name:"significant_digits",symbols:[{literal:"S"},"positive_digit"],postprocess:e=>({significant:v(e[1])})},{name:"exp_year",symbols:[{literal:"Y"},"exp"],postprocess:e=>M([e[1]],2)},{name:"exp_year$string$1",symbols:[{literal:"Y"},{literal:"-"}],postprocess:function(e){return e.join("")}},{name:"exp_year",symbols:["exp_year$string$1","exp"],postprocess:e=>M([-e[1]],2)},{name:"exp",symbols:["digits",{literal:"E"},"digits"],postprocess:e=>v(e[0])*Math.pow(10,v(e[2]))},{name:"L2S",symbols:["year",{literal:"-"},"d25_41"],postprocess:e=>O(e,2)},{name:"decade",symbols:["positive_decade"],postprocess:e=>A(e[0])},{name:"decade$string$1",symbols:[{literal:"0"},{literal:"0"},{literal:"0"}],postprocess:function(e){return e.join("")}},{name:"decade",symbols:["decade$string$1"],postprocess:()=>A(0)},{name:"decade",symbols:[{literal:"-"},"positive_decade"],postprocess:e=>A(-e[1])},{name:"positive_decade",symbols:["positive_digit","digit","digit"],postprocess:v},{name:"positive_decade",symbols:[{literal:"0"},"positive_digit","digit"],postprocess:v},{name:"positive_decade$string$1",symbols:[{literal:"0"},{literal:"0"}],postprocess:function(e){return e.join("")}},{name:"positive_decade",symbols:["positive_decade$string$1","positive_digit"],postprocess:v},{name:"set",symbols:["LSB","OL","RSB"],postprocess:T},{name:"list",symbols:["LLB","OL","RLB"],postprocess:T},{name:"LSB",symbols:[{literal:"["}],postprocess:()=>({type:"Set"})},{name:"LSB$string$1",symbols:[{literal:"["},{literal:"."},{literal:"."}],postprocess:function(e){return e.join("")}},{name:"LSB",symbols:["LSB$string$1"],postprocess:()=>({type:"Set",earlier:!0})},{name:"LLB",symbols:[{literal:"{"}],postprocess:()=>({type:"List"})},{name:"LLB$string$1",symbols:[{literal:"{"},{literal:"."},{literal:"."}],postprocess:function(e){return e.join("")}},{name:"LLB",symbols:["LLB$string$1"],postprocess:()=>({type:"List",earlier:!0})},{name:"RSB",symbols:[{literal:"]"}],postprocess:D},{name:"RSB$string$1",symbols:[{literal:"."},{literal:"."},{literal:"]"}],postprocess:function(e){return e.join("")}},{name:"RSB",symbols:["RSB$string$1"],postprocess:()=>({later:!0})},{name:"RLB",symbols:[{literal:"}"}],postprocess:D},{name:"RLB$string$1",symbols:[{literal:"."},{literal:"."},{literal:"}"}],postprocess:function(e){return e.join("")}},{name:"RLB",symbols:["RLB$string$1"],postprocess:()=>({later:!0})},{name:"OL",symbols:["LI"],postprocess:e=>[e[0]]},{name:"OL",symbols:["OL","_",{literal:","},"_","LI"],postprocess:e=>[...e[0],e[4]]},{name:"LI",symbols:["date"],postprocess:U},{name:"LI",symbols:["ua_date"],postprocess:U},{name:"LI",symbols:["L2X"],postprocess:U},{name:"LI",symbols:["consecutives"],postprocess:U},{name:"consecutives$string$1",symbols:[{literal:"."},{literal:"."}],postprocess:function(e){return e.join("")}},{name:"consecutives",symbols:["year_month_day","consecutives$string$1","year_month_day"],postprocess:e=>[k(e[0]),k(e[2])]},{name:"consecutives$string$2",symbols:[{literal:"."},{literal:"."}],postprocess:function(e){return e.join("")}},{name:"consecutives",symbols:["year_month","consecutives$string$2","year_month"],postprocess:e=>[k(e[0]),k(e[2])]},{name:"consecutives$string$3",symbols:[{literal:"."},{literal:"."}],postprocess:function(e){return e.join("")}},{name:"consecutives",symbols:["year","consecutives$string$3","year"],postprocess:e=>[k([e[0]]),k([e[2]])]},{name:"L3",symbols:["L3i"],postprocess:U},{name:"L3i",symbols:["L3S",{literal:"/"},"L3S"],postprocess:w(3)},{name:"L3S",symbols:["L1S"],postprocess:U},{name:"L3S",symbols:["L2S"],postprocess:U},{name:"digit",symbols:["positive_digit"],postprocess:U},{name:"digit",symbols:[{literal:"0"}],postprocess:U},{name:"digits",symbols:["digit"],postprocess:U},{name:"digits",symbols:["digits","digit"],postprocess:x},{name:"nd4",symbols:["d4"]},{name:"nd4",symbols:[{literal:"-"},"d4"],postprocess:x},{name:"nd3",symbols:["d3"]},{name:"nd3",symbols:[{literal:"-"},"d3"],postprocess:x},{name:"nd2",symbols:["d2"]},{name:"nd2",symbols:[{literal:"-"},"d2"],postprocess:x},{name:"d4",symbols:["d2","d2"],postprocess:x},{name:"d3",symbols:["d2","digit"],postprocess:x},{name:"d2",symbols:["digit","digit"],postprocess:x},{name:"d5+",symbols:["positive_digit","d3","digits"],postprocess:v},{name:"d1x",symbols:[/[1-9X]/],postprocess:U},{name:"dx",symbols:["d1x"],postprocess:U},{name:"dx",symbols:[{literal:"0"}],postprocess:U},{name:"dx2",symbols:["dx","dx"],postprocess:x},{name:"dx4",symbols:["dx2","dx2"],postprocess:x},{name:"dx4",symbols:[{literal:"-"},"dx2","dx2"],postprocess:x},{name:"md",symbols:["m31"],postprocess:U},{name:"md",symbols:["m30"],postprocess:U},{name:"md$string$1",symbols:[{literal:"0"},{literal:"2"}],postprocess:function(e){return e.join("")}},{name:"md",symbols:["md$string$1"],postprocess:U},{name:"mx",symbols:[{literal:"0"},"d1x"],postprocess:x},{name:"mx",symbols:[/[1X]/,/[012X]/],postprocess:x},{name:"m31x",symbols:[/[0X]/,/[13578X]/],postprocess:x},{name:"m31x",symbols:[/[1X]/,/[02]/],postprocess:x},{name:"m31x$string$1",symbols:[{literal:"1"},{literal:"X"}],postprocess:function(e){return e.join("")}},{name:"m31x",symbols:["m31x$string$1"],postprocess:U},{name:"m30x",symbols:[/[0X]/,/[469]/],postprocess:x},{name:"m30x$string$1",symbols:[{literal:"1"},{literal:"1"}],postprocess:function(e){return e.join("")}},{name:"m30x",symbols:["m30x$string$1"],postprocess:x},{name:"d29x",symbols:[{literal:"0"},"d1x"],postprocess:x},{name:"d29x",symbols:[/[1-2X]/,"dx"],postprocess:x},{name:"d30x",symbols:["d29x"],postprocess:x},{name:"d30x$string$1",symbols:[{literal:"3"},{literal:"0"}],postprocess:function(e){return e.join("")}},{name:"d30x",symbols:["d30x$string$1"],postprocess:U},{name:"d31x",symbols:["d30x"],postprocess:U},{name:"d31x",symbols:[{literal:"3"},/[1X]/],postprocess:x},{name:"positive_digit",symbols:[/[1-9]/],postprocess:U},{name:"m31$subexpression$1$string$1",symbols:[{literal:"0"},{literal:"1"}],postprocess:function(e){return e.join("")}},{name:"m31$subexpression$1",symbols:["m31$subexpression$1$string$1"]},{name:"m31$subexpression$1$string$2",symbols:[{literal:"0"},{literal:"3"}],postprocess:function(e){return e.join("")}},{name:"m31$subexpression$1",symbols:["m31$subexpression$1$string$2"]},{name:"m31$subexpression$1$string$3",symbols:[{literal:"0"},{literal:"5"}],postprocess:function(e){return e.join("")}},{name:"m31$subexpression$1",symbols:["m31$subexpression$1$string$3"]},{name:"m31$subexpression$1$string$4",symbols:[{literal:"0"},{literal:"7"}],postprocess:function(e){return e.join("")}},{name:"m31$subexpression$1",symbols:["m31$subexpression$1$string$4"]},{name:"m31$subexpression$1$string$5",symbols:[{literal:"0"},{literal:"8"}],postprocess:function(e){return e.join("")}},{name:"m31$subexpression$1",symbols:["m31$subexpression$1$string$5"]},{name:"m31$subexpression$1$string$6",symbols:[{literal:"1"},{literal:"0"}],postprocess:function(e){return e.join("")}},{name:"m31$subexpression$1",symbols:["m31$subexpression$1$string$6"]},{name:"m31$subexpression$1$string$7",symbols:[{literal:"1"},{literal:"2"}],postprocess:function(e){return e.join("")}},{name:"m31$subexpression$1",symbols:["m31$subexpression$1$string$7"]},{name:"m31",symbols:["m31$subexpression$1"],postprocess:U},{name:"m30$subexpression$1$string$1",symbols:[{literal:"0"},{literal:"4"}],postprocess:function(e){return e.join("")}},{name:"m30$subexpression$1",symbols:["m30$subexpression$1$string$1"]},{name:"m30$subexpression$1$string$2",symbols:[{literal:"0"},{literal:"6"}],postprocess:function(e){return e.join("")}},{name:"m30$subexpression$1",symbols:["m30$subexpression$1$string$2"]},{name:"m30$subexpression$1$string$3",symbols:[{literal:"0"},{literal:"9"}],postprocess:function(e){return e.join("")}},{name:"m30$subexpression$1",symbols:["m30$subexpression$1$string$3"]},{name:"m30$subexpression$1$string$4",symbols:[{literal:"1"},{literal:"1"}],postprocess:function(e){return e.join("")}},{name:"m30$subexpression$1",symbols:["m30$subexpression$1$string$4"]},{name:"m30",symbols:["m30$subexpression$1"],postprocess:U},{name:"d01_11",symbols:[{literal:"0"},"positive_digit"],postprocess:x},{name:"d01_11",symbols:[{literal:"1"},/[0-1]/],postprocess:x},{name:"d01_12",symbols:["d01_11"],postprocess:U},{name:"d01_12$string$1",symbols:[{literal:"1"},{literal:"2"}],postprocess:function(e){return e.join("")}},{name:"d01_12",symbols:["d01_12$string$1"],postprocess:U},{name:"d01_13",symbols:["d01_12"],postprocess:U},{name:"d01_13$string$1",symbols:[{literal:"1"},{literal:"3"}],postprocess:function(e){return e.join("")}},{name:"d01_13",symbols:["d01_13$string$1"],postprocess:U},{name:"d00_14$string$1",symbols:[{literal:"0"},{literal:"0"}],postprocess:function(e){return e.join("")}},{name:"d00_14",symbols:["d00_14$string$1"],postprocess:U},{name:"d00_14",symbols:["d01_13"],postprocess:U},{name:"d00_14$string$2",symbols:[{literal:"1"},{literal:"4"}],postprocess:function(e){return e.join("")}},{name:"d00_14",symbols:["d00_14$string$2"],postprocess:U},{name:"d00_23$string$1",symbols:[{literal:"0"},{literal:"0"}],postprocess:function(e){return e.join("")}},{name:"d00_23",symbols:["d00_23$string$1"],postprocess:U},{name:"d00_23",symbols:["d01_23"],postprocess:U},{name:"d01_23",symbols:[{literal:"0"},"positive_digit"],postprocess:x},{name:"d01_23",symbols:[{literal:"1"},"digit"],postprocess:x},{name:"d01_23",symbols:[{literal:"2"},/[0-3]/],postprocess:x},{name:"d01_29",symbols:[{literal:"0"},"positive_digit"],postprocess:x},{name:"d01_29",symbols:[/[1-2]/,"digit"],postprocess:x},{name:"d01_30",symbols:["d01_29"],postprocess:U},{name:"d01_30$string$1",symbols:[{literal:"3"},{literal:"0"}],postprocess:function(e){return e.join("")}},{name:"d01_30",symbols:["d01_30$string$1"],postprocess:U},{name:"d01_31",symbols:["d01_30"],postprocess:U},{name:"d01_31$string$1",symbols:[{literal:"3"},{literal:"1"}],postprocess:function(e){return e.join("")}},{name:"d01_31",symbols:["d01_31$string$1"],postprocess:U},{name:"d00_59$string$1",symbols:[{literal:"0"},{literal:"0"}],postprocess:function(e){return e.join("")}},{name:"d00_59",symbols:["d00_59$string$1"],postprocess:U},{name:"d00_59",symbols:["d01_59"],postprocess:U},{name:"d01_59",symbols:["d01_29"],postprocess:U},{name:"d01_59",symbols:[/[345]/,"digit"],postprocess:x},{name:"d21_24",symbols:[{literal:"2"},/[1-4]/],postprocess:x},{name:"d25_41",symbols:[{literal:"2"},/[5-9]/],postprocess:x},{name:"d25_41",symbols:[{literal:"3"},"digit"],postprocess:x},{name:"d25_41",symbols:[{literal:"4"},/[01]/],postprocess:x},{name:"_$ebnf$1",symbols:[]},{name:"_$ebnf$1",symbols:["_$ebnf$1",{literal:" "}],postprocess:function(e){return e[0].concat([e[1]])}},{name:"_",symbols:["_$ebnf$1"]}],ParserStart:"edtf"},Z={level:2,types:[],seasonIntervals:!1};function G(e,s){return e.level<s.level?-1:e.level>s.level?1:0}function K(e,s={}){try{let o=new _.Parser(q.ParserRules,q.ParserStart),r=(t=function(e,s={}){if(!e.length)return e;let{level:t,types:o,seasonIntervals:r}={...Z,...s};return e.filter((e=>!((!r||!function({type:e,values:s}){return"Interval"===e&&"Season"===s[0].type}(e))&&(e.level>t||o.length&&!o.includes(e.type)))))}(o.feed(e).results,s),t.length<2?t[0]:t.sort(G)[0]);if(!r)throw new Error("edtf: No possible parsings (@EOS)");return r}catch(s){throw s.message+=` for "${e}"`,s}var t}class Q{static get type(){return this.name}static parse(e){return K(e,{types:[this.type]})}static from(e){return e instanceof this?e:new this(e)}static UTC(...e){let s=Date.UTC(...e);return e[0]>=0&&e[0]<100&&(s=function(e,s=1900){return e.setUTCFullYear(e.getUTCFullYear()-s),e.getTime()}(new Date(s))),s}get type(){return this.constructor.type}get edtf(){return this.toEDTF()}get isEDTF(){return!0}toJSON(){return this.toEDTF()}toString(){return this.toEDTF()}toLocaleString(...e){return this.localize(...e)}inspect(){return this.toEDTF()}valueOf(){return this.min}[Symbol.toPrimitive](e){return"number"===e?this.valueOf():this.toEDTF()}covers(e){return this.min<=e.min&&this.max>=e.max}compare(e){if(null==e.min||null==e.max)return null;let[s,t,o,r]=[this.min,this.max,e.min,e.max];return s!==o?s<o?-1:1:t!==r?t<r?-1:1:0}includes(e){let s=this.covers(e);if(!s||!this[Symbol.iterator])return s;for(let s of this)if(s.edtf===e.edtf)return!0;return!1}*until(e){yield this,this.compare(e)&&(yield*this.between(e))}*through(e){yield*this.until(e),this.compare(e)&&(yield e)}*between(e){e=this.constructor.from(e);let s=this,t=this.compare(e);if(t)for(;s=s.next(-t),s.compare(e)===t;)yield s}}const V=Reflect.ownKeys.bind(Reflect),ee=Object.getOwnPropertyDescriptor.bind(Object),se=Object.defineProperty.bind(Object),te=Object.prototype.hasOwnProperty;function oe(e,s){for(let t of V(s))te.call(e,t)||se(e,t,ee(s,t))}var re=t(90);const{assign:ne}=Object,ae={timeZone:"UTC",timeZoneName:void 0,hour:void 0,minute:void 0,second:void 0},ie=[{},ne({weekday:void 0,day:void 0,month:void 0},ae),ne({weekday:void 0,day:void 0},ae),ne({},ae)];function le(e){let s=[],t=Object.getOwnPropertyNames(e);for(let o of t.sort())s.push({[o]:e[o]});return s}function me(e,s,t){let o={};switch(e.precision){case 3:o.day="numeric";case 2:o.month="numeric";case 1:o.year="numeric"}ne(o,t,ie[e.precision]);let r=function(...e){let s=[];for(let t of e)t&&"object"==typeof t?s.push(le(t)):s.push(t);return JSON.stringify(s)}(s,o);return ce.cache.has(r)||ce.cache.set(r,new Intl.DateTimeFormat(s,o)),ce.cache.get(r)}function pe(e){return"day"===e||"month"===e||"year"===e}function ce(e,s="en-US",t={}){const o=me(e,s,t),r=function(e){const{locale:s,weekday:t,month:o,year:r}=e.resolvedOptions(),n=re[s];if(null==n)return null;const a=t||"long"===o?"long":o&&"2-digit"!==r?"medium":"short";return{approximate:n.date.approximate[a],uncertain:n.date.uncertain[a]}}(o);if(!e.isEDTF||null==r)return o.format(e);let n=e.unspecified.value&&o.formatToParts?function(e,s){let t="";for(let{type:o,value:r}of s)t+=pe(o)&&e.unspecified.is(o)?r.replace(/./g,"X"):r;return t}(e,o.formatToParts(e)):o.format(e);return e.approximate.value&&(n=r.approximate.replace("%D",n)),e.uncertain.value&&(n=r.uncertain.replace("%D",n)),n}ce.cache=new Map;const{abs:ue}=Math,{isArray:ye}=Array,$e=new WeakMap,be=new WeakMap,de=new WeakMap,fe=new WeakMap,he=[f.YMD,f.Y,f.YM,f.YMD];class _e extends globalThis.Date{constructor(...e){let s,t,o,n=0;switch(e.length){case 0:break;case 1:switch(typeof e[0]){case"number":break;case"string":e=[_e.parse(e[0])];case"object":ye(e[0])&&(e[0]={values:e[0]});{let a=e[0];if(r(null!=a),a.type&&r.equal("Date",a.type),a.values&&a.values.length){if(n=a.values.length,(e=a.values.slice()).length<2&&e.push(0),a.offset){for(e.length<3&&e.push(1);e.length<5;)e.push(0);e[4]=e[4]+a.offset}e=[Q.UTC(...e)]}({uncertain:s,approximate:t,unspecified:o}=a)}break;default:throw new RangeError("Invalid time value")}break;default:n=e.length}super(...e),this.precision=n,this.uncertain=s,this.approximate=t,this.unspecified=o}set precision(e){$e.set(this,e>3?0:Number(e))}get precision(){return $e.get(this)}set uncertain(e){be.set(this,this.bits(e))}get uncertain(){return be.get(this)}set approximate(e){de.set(this,this.bits(e))}get approximate(){return de.get(this)}set unspecified(e){fe.set(this,new f(e))}get unspecified(){return fe.get(this)}get atomic(){return!(this.precision||this.unspecified.value)}get min(){if(this.unspecified.value&&this.year<0){let e=this.unspecified.max(this.values.map(_e.pad));return e[0]=-e[0],new _e({values:e}).getTime()}return this.getTime()}get max(){return this.atomic?this.getTime():this.next().getTime()-1}get year(){return this.getUTCFullYear()}get month(){return this.getUTCMonth()}get date(){return this.getUTCDate()}get hours(){return this.getUTCHours()}get minutes(){return this.getUTCMinutes()}get seconds(){return this.getUTCSeconds()}get values(){switch(this.precision){case 1:return[this.year];case 2:return[this.year,this.month];case 3:return[this.year,this.month,this.date];default:return[this.year,this.month,this.date,this.hours,this.minutes,this.seconds]}}next(e=1){let{values:s,unspecified:t,uncertain:o,approximate:r}=this;if(t.value){let o=s[0]<0;s=e<0^o?t.min(s.map(_e.pad)):t.max(s.map(_e.pad)),o&&(s[0]=-s[0])}return s.push(s.pop()+e),new _e({values:s,unspecified:t,uncertain:o,approximate:r})}prev(e=1){return this.next(-e)}*[Symbol.iterator](){let e=this;for(;e<=this.max;)yield e,e=e.next()}toEDTF(){if(!this.precision)return this.toISOString();let e=this.year<0?"-":"",s=this.values.map(_e.pad);return this.unspecified.value?e+this.unspecified.masks(s).join("-"):(this.uncertain.value&&(s=this.uncertain.marks(s,"?")),this.approximate.value&&(s=this.approximate.marks(s,"~").map((e=>e.replace(/(~\?)|(\?~)/,"%")))),e+s.join("-"))}format(...e){return ce(this,...e)}static pad(e,s=0){if(!s){let s=ue(e);return s<10?`000${s}`:s<100?`00${s}`:s<1e3?`0${s}`:`${s}`}return 1===s&&(e+=1),e<10?`0${e}`:`${e}`}bits(e){return!0===e&&(e=he[this.precision]),new f(e)}}!function(e,...s){for(let t of s)oe(e,t),oe(e.prototype,t.prototype)}(_e,Q);_e.pad;const{abs:ge}=Math;new WeakMap,new WeakMap;const{abs:ve,floor:xe}=Math;new WeakMap;const{abs:Le,floor:De}=Math;new WeakMap;new WeakMap;new WeakMap;Symbol.iterator;const{isArray:Se}=Array;new WeakMap;Symbol.iterator;const Xe=window.jQuery;var je=t.n(Xe);const we=function(e){var s,t="",o="",r=0;try{K(e.value),je()(e).closest(".edtf").find(".invalid-value").empty();const s="<div class='valid-string-container'><span class='o-icon-edit icon' title='Correct value' aria-label='accepted value'></span><span class='valuesuggest-id'>"+e.value+"</span></div>";var n=je()(e).closest(".edtf").find(".valid-string-container");n.length>0?je()(n).replaceWith(s):je()(e).closest(".edtf").prepend(s),o=""}catch(n){const a=String(n.message).split("\n");a.forEach(((e,n)=>{switch(!0){case/Unexpected/.test(e):o=e.substring(0,e.indexOf("."));break;case/Syntax/.test(e):t=a[n+2].split(" ")[1],r=a[n+2].split(" ")[0].length+1;break;case/\^/.test(e):s=e.indexOf("^")-r}})),t.length>0&&(t="<div><p class='outputstring'>"+t.substring(0,s)+"<span class='caret'>"+t.substring(s,s+1)+"</span>"+t.substring(s+1)+" ["+o+"]</p></div>"),je()(e).closest(".edtf").find(".invalid-value").html(t),je()(e).closest(".edtf").find(".valid-string-container").remove()}},Ye=function(e){je()(e)[0].addEventListener("input",(function(e){we(e.target)}))},ke=function(){je()(document).on("o:prepare-value o:prepare-value-annotation",(function(e,s,t){if("edtf:date"===s){t.find(".edtf-value");Ye(t)}})),document.querySelectorAll(".edtf input.edtf-value").forEach((e=>{we(e),Ye(e)}))}})(),EdtfDataType=o})();
//# sourceMappingURL=edtf-data-type.min.js.map